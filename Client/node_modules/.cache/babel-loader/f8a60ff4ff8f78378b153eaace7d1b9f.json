{"ast":null,"code":"var _jsxFileName = \"/home/nithin/Downloads/Resort/Client/src/Components/Rooms.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { popularProducts } from \"../data\";\nimport Cart from '../pages/Cart';\nimport Product from './Product';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\ndisplay:flex;\npadding:20px;\nflex-wrap: wrap;\njustify-content:space-between;`;\n_c = Container;\n\nconst Rooms = _ref => {\n  _s();\n\n  let {\n    cat,\n    filters,\n    sort\n  } = _ref;\n  console.log(cat, filters, sort);\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const res = await axios.get(cat ? `http://localhost:8181/api/products?category=${cat}` : `http://localhost:8181/api/products`);\n        console.log(res);\n        setProducts(res.data);\n      } catch (err) {}\n    };\n\n    getProducts();\n  }, [cat]);\n  useEffect(() => {\n    cat && setFilteredProducts(products.filter(item => Object.entries(filters).every(_ref2 => {\n      let [key, value] = _ref2;\n      return item[key].includes(value);\n    })));\n  }, [products, cat, filters]);\n  useEffect(() => {\n    if (sort === \"newest\") {\n      setFilteredProducts(prev => [...prev].sort((a, b) => a.createdAt - b.createdAt));\n    } else if (sort === \"asc\") {\n      setFilteredProducts(prev => [...prev].sort((a, b) => a.price - b.price));\n    } else {\n      setFilteredProducts(prev => [...prev].sort((a, b) => b.price - a.price));\n    }\n  }, [sort]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: cat ? filteredProducts.map(item => /*#__PURE__*/_jsxDEV(Product, {\n      item: item\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 42\n    }, this)) : products.slice(0, 8).map(item => /*#__PURE__*/_jsxDEV(Product, {\n      item: item\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 28\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Rooms, \"+WtoLcoN7o6u3NFj3rn+f/2h694=\");\n\n_c2 = Rooms;\nexport default Rooms;\n/*import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Banner from './Banner'\nimport Hero from './Hero'\nimport \"./room.module.css\"\n\nconst Room = () => {\n    return (\n        <Hero>\n            \n            <article className=\"room\">\n      <div className=\"img-container\">\n        <img src=\"\" alt=\"single room\" />\n        <div className=\"price-top\">\n          <h6>${20}</h6>\n          <p>per night</p>\n        </div>\n        <Link to={`/rooms/id`} className=\"btn-primary room-link\">\n          features\n        </Link>\n      </div>\n      <p className=\"room-info\">\"room info\"</p>\n    </article>\n        \n            \n        </Hero>\n    )\n}\n\nexport default Room*/\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Rooms\");","map":{"version":3,"sources":["/home/nithin/Downloads/Resort/Client/src/Components/Rooms.js"],"names":["axios","React","useEffect","useState","styled","popularProducts","Cart","Product","Container","div","Rooms","cat","filters","sort","console","log","products","setProducts","filteredProducts","setFilteredProducts","getProducts","res","get","data","err","filter","item","Object","entries","every","key","value","includes","prev","a","b","createdAt","price","map","id","slice"],"mappings":"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","sourcesContent":["\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport {popularProducts} from \"../data\"\nimport Cart from '../pages/Cart';\nimport Product from './Product';\n\nconst Container=styled.div`\ndisplay:flex;\npadding:20px;\nflex-wrap: wrap;\njustify-content:space-between;`;\n\nconst Rooms = ({cat,filters,sort}) => {\n    console.log(cat,filters,sort)\n    const [products,setProducts]=useState([])\n    const [filteredProducts,setFilteredProducts]=useState([])\n    useEffect(()=>{\n         const getProducts = async ()=>{\n            try{\n               const res= await axios.get(cat?`http://localhost:8181/api/products?category=${cat}`:`http://localhost:8181/api/products`)\n               console.log(res)\n               setProducts(res.data)\n            }catch(err){\n\n            }\n        }\n        getProducts()\n    },[cat])\n    useEffect(()=>{\n   cat && setFilteredProducts(products.filter((item)=>Object.entries(filters).every(([key,value])=>item[key].includes(value))))\n    },[products,cat,filters])\n\n    useEffect(()=>{\n        if(sort===\"newest\"){\n            setFilteredProducts(prev=>\n                [...prev].sort((a, b) => a.createdAt - b.createdAt)\n                )\n        }else if (sort === \"asc\") {\n            setFilteredProducts((prev) =>\n              [...prev].sort((a, b) => a.price - b.price)\n            );\n          } else {\n            setFilteredProducts((prev) =>\n              [...prev].sort((a, b) => b.price - a.price)\n            );\n          }\n    },[sort])\n    return (\n        <Container>\n            \n           \n            {cat\n        ? filteredProducts.map((item) => <Product item={item} key={item.id} />)\n        : products\n            .slice(0, 8)\n            .map((item) => <Product item={item} key={item.id} />)}\n        </Container>\n    )\n}\n\nexport default Rooms\n\n\n\n\n\n/*import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Banner from './Banner'\nimport Hero from './Hero'\nimport \"./room.module.css\"\n\nconst Room = () => {\n    return (\n        <Hero>\n            \n            <article className=\"room\">\n      <div className=\"img-container\">\n        <img src=\"\" alt=\"single room\" />\n        <div className=\"price-top\">\n          <h6>${20}</h6>\n          <p>per night</p>\n        </div>\n        <Link to={`/rooms/id`} className=\"btn-primary room-link\">\n          features\n        </Link>\n      </div>\n      <p className=\"room-info\">\"room info\"</p>\n    </article>\n        \n            \n        </Hero>\n    )\n}\n\nexport default Room*/\n"]},"metadata":{},"sourceType":"module"}